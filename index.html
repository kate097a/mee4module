<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <!-- ltr - Текст отображается как обычно — слева направо -->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>GLIDM</title>
      <link href="./stylesheets/style.css" rel="stylesheet" type="text/css"/>
      <script src="./javascripts/java-script.js" charset="utf-8"></script>
      <script src="https://cdn.rawgit.com/bradley/Blotter/master/build/blotter.min.js"></script>
      <script src="https://rawgit.com/bradley/Blotter/master/build/materials/liquidDistortMaterial.js"></script>
      <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
<script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  </head>
  <body>
    <header>
      <div  class="noise"></div>
      <div class="fixedHelper">
        <section class="fixedMenu" id="fixedMenu">
          <div class="back" id="back"></div>
          <p class="fixedText" id="fixedText"></p>
          <nav class="navigation">
            <form action="./index.html">
              <button class="navBtn" id="main"></button>
             </form>
             <form action="./place/index.html">
              <button class="navBtn" id="place"></button>
             </form>
             <form action="./book/index.html">
              <button class="navBtn" id="book"></button>
             </form>
             <form action="./posters/index.html">
              <button class="navBtn" id="posters"></button>
             </form>
          </nav>
        </section>
        <div class="cursorDot" id="cursorDot"></div>

        <div class="rightCont">
          <img class="stoneImg secondStone" src="./img/stone.png">
        </div>

        <div class="leftCont">
          <img class="stoneImg firstStone" src="./img/stone.png">
        </div>
        
      </div>
    </header>
    <div class="wrapper">
    <section class="firstScreen" id="fs">
      <div class="navBlur">
        <a class="navBlurTip" href="./error/index.html" >магазин</a>
        <a class="navBlurTip" href="./book/index.html">книга</a>
        <a class="navBlurTip"  href="./place/index.html">пространство</a>
        <a class="navBlurTip" href="./posters/index.html">плакаты</a>
      </div>
      <div id="text"></div>
  
<script>
   let font = new FontFace('BowlbyOne', 'url(../fonts/BowlbyOne-Regular.ttf)');
    font.load().then(function(loadedFont) {
    document.fonts.add(loadedFont);
  });

      function size() {
        let b = 0;
        if (window.innerHeight > window.innerWidth) {
          b = (Math.trunc(window.innerWidth / window.innerHeight * 176));
          return b;
        } else if (window.innerHeight < window.innerWidth) {
          b = (Math.trunc(window.innerWidth / window.innerHeight * 176));
          return b;
        }
      }

      function pad(size) {
        let b = [0, 0];
        b[0] = Math.trunc((2 * size / 90))
        return [b[0], b[1]]
      }

      let wh = size();
      let marg = pad(wh)

      const innerText = document.getElementById("text");
      const text = new Blotter.Text("GLIDM", {
        family: "BowlbyOne",
        size: wh,
        fill: "rgb(26, 26, 26)",
        paddingLeft: 150,
        paddingRight: 150,
        paddingTop: 80,
        paddingBottom: 80,
        
      });

      text.needsUpdate = true;
      let material = new Blotter.LiquidDistortMaterial();

      material.uniforms.uVolatility.value = 0.1;
      material.uniforms.uSpeed.value = 0.2;
      material.uniforms.uSeed.value = 1;

      let blotter = new Blotter(material, {
        texts: text
      });

      let scope = blotter.forText(text);
      scope.appendTo(innerText);
      document.addEventListener("mousemove", (e) => {
        material.uniforms.uVolatility.value = (e.clientX + e.clientY) * 0.00009;
      });
</script> 
    </section>

    <section class="secondScreen" id="ss">

        <div class="manifestTipContainer left">
          <h3 class="manifestTip">звук</h3>
          <p class="manifestTipText" id="sound">
            музыка является гармоничным набором звуков, <br> 
            которые слиянии не имеют за собой четкой<br>
            физической оболочки, представляемой <br>
            человеком. Из этого следует <br>
            что визуализация звука не имеет определенных <br>
            форм, цветов и правил.</p>
        </div>
     
        <div class="manifestTipContainer right">
          <h3 class="manifestTip">свет</h3>
          <p class="manifestTipText" id="light">
            работа с светом, может совершенно <br>
            по новому раскрыть звучание музыки, связав <br>
            ее с определенными образами.</p>
        </div>
      
      <div class="manifestTipContainer center">
        <h3 class="manifestTip">восриятие</h3>
        <p class="manifestTipText" id="perception">
          комплексное, более глубокое восприятие музыки пораждает <br>
          новые эмоции, большее погружение 
          в атмосферу.</p>
      </div>
    </section>

<section class="thirdScreen" id="ts">
  <div class="rec" id="rec1">

    <div class="recCircleContainer" id="recCircleContainer1">
      <div class="recCircle" id="recCircle1"></div>
    </div>

    <div class="recCircleContainer" id="recCircleContainer2">
      <div class="recCircle" id="recCircle2"></div>
    </div>

  </div>
  </section>



    <section class="fourthScreen" id="fourth">
      <div class="runningTextContainer">
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText l">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText l">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText l">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText l">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText l">билеты билеты билеты билеты билеты билеты билеты</p>
        <p class="runningText r">билеты билеты билеты билеты билеты билеты билеты</p>
      </div>
      
      <div class="ticketsContainer">
        <form class="form" action="" method="post">
          <p class="formName">заявка</p>
          <div class="formInputs">
            <input class="formInput name">
            <div class="dataYO">
              <input class="formInput data">

              <input class="formInput yo" type="number">
            </div>
            <input class="phone" type="tel">

            <div class="radioContainer">
              <input class="radioInput" type="checkbox">
              <p class="radioText">я согласен с Конфиденциальности</p>
            </div>
          </div>

          <div class="priceAndBtn">
            <p class="price">1200p</p>
            <button class="complit" href="##">купить</button>
          </div>
        </form>
      </div>
    </section>


    <footer>
      <div class="footerText">
        <p class="foo adress">МКАД 66 км, Москва, Московская обл., 143407</p>
        <p class="foo phone">8 800 223 35 35</p>
      </div>
    </footer>


    <script>
      const requestAnimationFrame =
	window.requestAnimationFrame ||
	window.webkitRequestAnimationFrame ||
	window.mozRequestAnimationFrame ||
	window.msRequestAnimationFrame ||
	window.oRequestAnimationFrame;

const wrapper = document.querySelector(".wrapper"),
	    target = document.getElementsByTagName("body")[0];
	

let easing = "cubic-bezier(0.23, 1, 0.32, 1)",
	  duration = "1s",
		lastScrollY = window.scrollY,
	  pos = 0;

const init = () => {
	target.style.height = wrapper.offsetHeight + "px";
	target.style.overflow = "auto";

	wrapper.style.transition = "transform " + duration + " " + easing;
	wrapper.style.position = "fixed";
	wrapper.style.top = "0";
	wrapper.style.left = "0";
	wrapper.style.width = "100%";
	wrapper.style.padding = "0";
	wrapper.style.zIndex = "2";
	wrapper.style.display = "block";
	wrapper.style.backfaceVisibility = "hidden";

	loop();
};

const onScroll = scrollY => {
	pos = -(scrollY || document.documentElement.scrollTop);
	wrapper.style.transform = "translateY(" + pos + "px)";
};

const loop = () => {
	let scrollY = window.scrollY;
	
	if (lastScrollY === scrollY) {
		requestAnimationFrame(loop);
		return;
	} else {
		lastScrollY = scrollY;
		onScroll(scrollY);
		requestAnimationFrame(loop);
	}
};

init();

    </script>
  </div>
  </body>
</html>
